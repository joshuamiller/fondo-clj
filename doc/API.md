# Clojure Fondo API

This library, `fondo-clj`, provides a Fondo Client and a Fondo Service to
implement the [Fondo specification][fondo-spec] for Clojure.

## Terminology

### Value

A Fondo Value is an immutable piece of data. The Fondo specification supports
various content types; however, Fondo recommends that values be stored as
[edn][edn] to take advantage of Fondo's [derivative data][fondo-dd]
functionality. (We recommend edn for storage instead of Transit because

### Value ID (VID)

A Value ID (VID) identifies a Fondo Value in a Fondo Zone.

The VID is generated by Fondo. In the simplest case, the VID is calculated as
the hash of the value contents. With a good hashing function, there will only be
a small number collisions inside the Zone. If there is a collision, then
... TODO.

Fondo VIDs are *not* guaranteed to be unique across different Zones.

In many cases, a VID may serve as a globally-unique identifier, but this is not
guaranteed. In some cases, in order to get a globally-unique identifier, a
combination of Zone ID and Value ID is required.

### Zone

A Fondo Zone is a logical collection of Fondo Values controlled by a common
authentication mechanism. A Fondo Zone is implemented by one or more Fondo
Nodes, each of which is an HTTP service. For example, a university may provide a
Fondo Zone and provide access to students, faculty, and staff.

Fondo Zones are composable; a Zone can contain zero or more other Fondo
Zones. In most cases, a Value ID (VID) in the containing Zone simply delegates
to the contained Zones. However, if there are collisions in the contained Zones,
that VID will not be unique. In that case, the containing Zone will generate a
new, unique VID.

### Zone ID (ZID)

A Fondo Zone is identified by a globally unique Fondo Zone ID (ZID). A ZID can
be requested from [datafondo.org][datafondo].

### Node

A Fondo Node provides access to a Fondo Zone. A Node is a service with an HTTP
interface. (A Zone is a logical construct.) A Node is free to control read
and write access as the administrator sees fit. In order for two or more Nodes
to work together as one Zone, they must share an authentication mechanism.

Neither a Fondo Zone nor Node stores Fondo Values. Instead, a Node keeps track
of the mapping from a VID to the URL containing the data.

### Client

A Fondo Client connects to a Fondo Node. This repository, `fondo-clj`, provides
an in-process Fondo Client library.

## API

TODO

### Initialize a Fondo network

TODO

### TODO

TODO

## Related Projects

### edn

According to the [edn-format repository][edn]:

> edn is an extensible data notation. A superset of edn is used by Clojure to
> represent programs, and it is used by Datomic and other applications as a data
> transfer format. This spec describes edn in isolation from those and other
> specific use cases, to help facilitate implementation of readers and writers
> in other languages, and for other uses.

> edn supports a rich set of built-in elements, and the definition of extension
> elements in terms of the others. Users of data formats without such facilities
> must rely on either convention or context to convey elements not included in
> the base set. This greatly complicates application logic, betraying the
> apparent simplicity of the format. edn is simple, yet powerful enough to meet
> the demands of applications without convention or complex context-sensitive
> logic.

### Transit

According to the [transit-format repository][transit-format]:

> Transit is a format and set of libraries for conveying values between
> applications written in different programming languages.

> NOTE: Transit is a work in progress and may evolve based on feedback. As a
> result, while Transit is a great option for transferring data between
> applications, it should not yet be used for storing data durably over
> time. This recommendation will change when the specification is complete.

We expect that all Fondo libraries, including this one, use Transit to convey
values between a Fondo Service and a Fondo Client. [transit-clj][transit-clj]
which provides [these types][transit-types].

[datafondo]: https://datafondo.org
[edn]: https://github.com/edn-format/edn
[fondo-dd]: https://github.com/tdxlabs/fondo#derived-data
[fondo-spec]: https://github.com/tdxlabs/fondo
[transit-clj]: https://github.com/cognitect/transit-clj
[transit-format]: https://github.com/cognitect/transit-format
[transit-types]: https://github.com/cognitect/transit-clj#default-type-mapping
